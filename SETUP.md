# Fusent - ะัะบะพะฒะพะดััะฒะพ ะฟะพ ะทะฐะฟััะบั

## ๐ ะัััััะน ััะฐัั

### 1. ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ ัะตัะตะท Docker Compose

```bash
# ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั (ะฑะฐะทั ะดะฐะฝะฝัั, ะบัั, ะพัะตัะตะดะธ, ะฑัะบะตะฝะด)
docker compose up --build -d

# ะัะพะฒะตัะธัั ััะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ
docker ps

# ะะพัะผะพััะตัั ะปะพะณะธ ะฑัะบะตะฝะดะฐ
docker compose logs -f backend
```

### 2. ะะฐะฟััะบ ััะพะฝัะตะฝะดะฐ

```bash
cd fusent-web
npm install
npm run dev
```

## ๐ ะะพัััะฟะฝัะต ัะตัะฒะธัั

ะะพัะปะต ะทะฐะฟััะบะฐ ะฑัะดัั ะดะพัััะฟะฝั ัะปะตะดัััะธะต ัะตัะฒะธัั:

| ะกะตัะฒะธั | URL | ะะฟะธัะฐะฝะธะต |
|--------|-----|----------|
| **Frontend** | http://localhost:3000 | Next.js ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต |
| **Backend API** | http://localhost:8080 | Spring Boot REST API |
| **Swagger UI** | http://localhost:8080/swagger-ui/index.html | API ะดะพะบัะผะตะฝัะฐัะธั |
| **PostgreSQL** | localhost:5432 | ะะฐะทะฐ ะดะฐะฝะฝัั |
| **Redis** | localhost:6379 | ะัั |
| **Kafka** | localhost:9092 | ะัะพะบะตั ัะพะพะฑัะตะฝะธะน |
| **MinIO Console** | http://localhost:9001 | S3 ััะฐะฝะธะปะธัะต (admin: minioadmin/minioadmin) |
| **MinIO API** | http://localhost:9000 | S3 API endpoint |

## ๐ง ะะพะฝัะธะณััะฐัะธั ะดะปั ัะตัะฒะตัะฐ

### ะัะปะธ ะฒั ะทะฐะฟััะบะฐะตัะต ะฝะฐ ัะดะฐะปัะฝะฝะพะผ ัะตัะฒะตัะต:

1. **ะะฑะฝะพะฒะธัะต .env.local** ะฒ ะดะธัะตะบัะพัะธะธ `fusent-web/`:
```env
NEXT_PUBLIC_API_URL=http://YOUR_SERVER_IP:8080/api/v1
NEXT_PUBLIC_APP_URL=http://YOUR_SERVER_IP:3000
NEXT_PUBLIC_MINIO_URL=http://YOUR_SERVER_IP:9000
```

2. **ะะฑะฝะพะฒะธัะต CORS ะฒ docker-compose.yml**:
```yaml
CORS_ORIGINS: http://YOUR_SERVER_IP:3000,http://YOUR_SERVER_IP:4200
```

3. **ะคัะพะฝัะตะฝะด ัะถะต ะฝะฐัััะพะตะฝ** ะดะปั ะฟัะพัะปััะธะฒะฐะฝะธั ะฝะฐ 0.0.0.0 (ะดะพัััะฟะตะฝ ะธะทะฒะฝะต)

## ๐งช ะขะตััะพะฒัะต ะดะฐะฝะฝัะต

ะะพัะปะต ะทะฐะฟััะบะฐ ะฑัะบะตะฝะดะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐัััั ัะตััะพะฒัะต ะฐะบะบะฐัะฝัั:

- **ะะดะผะธะฝะธัััะฐัะพั**: admin@fusent.kg / admin123
- **ะัะพะดะฐะฒะตั**: seller@fusent.kg / seller123
- **ะะพะบัะฟะฐัะตะปั**: buyer@fusent.kg / buyer123

## ๐ Swagger ะดะพะบัะผะตะฝัะฐัะธั

Swagger UI ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั:
```
http://localhost:8080/swagger-ui/index.html
```

ะะปะธ ะฝะฐ ัะตัะฒะตัะต:
```
http://YOUR_SERVER_IP:8080/swagger-ui/index.html
```

### ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั Swagger:

1. ะัะบัะพะนัะต Swagger UI ะฒ ะฑัะฐัะทะตัะต
2. ะะปั ะฐะฒัะพัะธะทะฐัะธะธ:
   - ะะฐะนะดะธัะต endpoint `/api/v1/auth/login`
   - ะัะฟะพะปะฝะธัะต POST ะทะฐะฟัะพั ั ัะตะปะพะผ:
     ```json
     {
       "email": "admin@fusent.kg",
       "password": "admin123"
     }
     ```
   - ะกะบะพะฟะธััะนัะต `accessToken` ะธะท ะพัะฒะตัะฐ
   - ะะฐะถะผะธัะต ะบะฝะพะฟะบั "Authorize" ะฒะฒะตััั ัััะฐะฝะธัั
   - ะะฒะตะดะธัะต: `Bearer YOUR_ACCESS_TOKEN`
   - ะขะตะฟะตัั ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ะทะฐัะธััะฝะฝัะต endpoints

## ๐ ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั

```bash
# ะััะฐะฝะพะฒะธัั ะฒัะต ัะตัะฒะธัั
docker compose down

# ะััะฐะฝะพะฒะธัั ะธ ัะดะฐะปะธัั ะฒัะต ะดะฐะฝะฝัะต
docker compose down -v

# ะะตัะตัะพะฑัะฐัั ัะพะปัะบะพ ะฑัะบะตะฝะด
docker compose up --build backend -d

# ะะพัะผะพััะตัั ะปะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker compose logs -f postgres
docker compose logs -f kafka
docker compose logs -f backend

# ะะพะนัะธ ะฒ ะบะพะฝัะตะนะฝะตั
docker exec -it fusent-backend sh
docker exec -it fusent-postgres psql -U fusent_user -d fusent
```

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะธะฑะบะฐ "destination does not start with /"
- ะฃะฑะตะดะธัะตัั, ััะพ ัะฐะนะป `.env.local` ัััะตััะฒัะตั ะฒ `fusent-web/`
- ะัะพะฒะตัััะต, ััะพ `NEXT_PUBLIC_API_URL` ะทะฐะดะฐะฝ ะบะพััะตะบัะฝะพ

### Backend ะฝะต ะทะฐะฟััะบะฐะตััั
```bash
# ะัะพะฒะตัััะต ะปะพะณะธ
docker compose logs backend

# ะฃะฑะตะดะธัะตัั ััะพ PostgreSQL ะณะพัะพะฒะฐ
docker compose logs postgres
```

### Frontend ะฝะต ะฟะพะดะบะปััะฐะตััั ะบ API
- ะัะพะฒะตัััะต ััะพ backend ะทะฐะฟััะตะฝ: `curl http://localhost:8080/actuator/health`
- ะัะพะฒะตัััะต `.env.local` ัะฐะนะป
- ะฃะฑะตะดะธัะตัั ััะพ CORS ะฝะฐัััะพะตะฝ ะฟัะฐะฒะธะปัะฝะพ

## ๐ฅ Production deployment

ะะปั production ัะตะบะพะผะตะฝะดัะตััั:

1. ะัะฟะพะปัะทะพะฒะฐัั ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฒะผะตััะพ hardcoded ะทะฝะฐัะตะฝะธะน
2. ะะฐัััะพะธัั SSL/TLS ัะตััะธัะธะบะฐัั
3. ะัะฟะพะปัะทะพะฒะฐัั nginx ะบะฐะบ reverse proxy
4. ะะฐัััะพะธัั firewall ะฟัะฐะฒะธะปะฐ
5. ะัะฟะพะปัะทะพะฒะฐัั ัะตะบัะตัะฝัะต ะผะตะฝะตะดะถะตัั ะดะปั JWT_SECRET ะธ ะดััะณะธั ะบะปััะตะน
6. ะะฐัััะพะธัั ะผะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต

## ๐ฆ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
โ   Next.js   โโโโโโถโ  Spring Boot โโโโโโถโ  PostgreSQL  โ
โ  (Frontend) โ     โ   (Backend)  โ     โ              โ
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
                           โ
                           โโโโโโโโโโโโโโ
                           โผ            โผ
                    โโโโโโโโโโโโ  โโโโโโโโโโโ
                    โ  Redis   โ  โ  Kafka  โ
                    โ  (Cache) โ  โ (Queue) โ
                    โโโโโโโโโโโโ  โโโโโโโโโโโ
                           โ
                           โผ
                    โโโโโโโโโโโโ
                    โ  MinIO   โ
                    โ  (S3)    โ
                    โโโโโโโโโโโโ
```
